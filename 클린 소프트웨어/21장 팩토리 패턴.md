## 📕 오늘 공부한 내용, 이렇게 정리해 봅시다. ✒

**기록일** : 2022.07.15

### 21장 팩토리 패턴

- 팩토리 패턴을 사용하면 추상 인터페이스에만 의존하면서도 구체적 객체들의 인스턴스를 만들 수 있으므로, 한창 개발하느라 생성할 구체 클래스의 변경이 잦을 때 이 패턴이 큰 도움이 된다.

#### 의존 관계 순환

- 팩토리 패턴 적용시 프로덕트의 파생형마다 메소드가 하나씩 존재해야 한다. 이는 프로덕트에 새로운 파생형을 차가하는 일을 매우 어렵게 만들지도 모르는 의존 관계 순환이 생길 수 있다.
- 타입 안정성을 조금 희생하면 이 의존 관계 순환을 막을 수 있다. String을 받는 make 함수를 하나만 만들면 된다.

#### 대체할 수 있는 팩토리

- 팩토리를 사용해서 생기는 큰 장점 중 하나는, 어떤 팩토리의 구현을 다른 구현으로 대체할 수 있다는 점이다. 그럼으로써 애플리케이션 안에 있는 객체들의 잡합 하나를 다른 집합으로 통째로 대체할 수 있다.(추상 팩토리 패턴)

#### 고정된 것을 테스트하기 위해 팩토리 사용하기

- 스푸핑 구조: 테스트 대상 객체를 테스트하는 드라이버가 목의 역할을 수행

#### 팩토리 사용이 얼마나 중요한가?

- 나는 보통 팩토리를 사용하지 않고 시작하며, 팩토리의 필요성이 커지면 그제야 시스템에 팩토리를 도입한다.

#### 결론

- 팩토리는 강력한 도구다. 높은 차원의 정책 모듈이 클래스들의 구체적인 구현에 의존하지 않고도 그 클래스들의 인스턴스를 생성하게 해주기도 한다.
- 하지만 팩토리는 피하려면 피할 수 있는 복합함이다. 기본으로 팩토리를 사용하는 것이 최선의 방법인 경우는 드물다.
